<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PlotCouncil Docs</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0 auto; padding: 24px; max-width: 1100px; line-height: 1.6; }
    header { text-align: center; }
    .logo { width: 150px; border-radius: 24px; border: 1px solid #e2e8f0; }
    .badges img { height: 24px; margin: 0 4px; }
    .lang-toggle button { padding: 8px 14px; margin: 0 6px; cursor: pointer; border-radius: 6px; border: 1px solid #ccc; background: #f7f7f7; }
    .lang-toggle .active { border: 2px solid #4CAF50; background: #4CAF50; color: #fff; font-weight: 700; }
    .grid img { width: 100%; height: auto; border: 1px solid #e5e7eb; border-radius: 4px; }
    .grid table { width: 100%; border-collapse: collapse; }
    .grid td { padding: 8px; vertical-align: top; }
    .muted { color: #555; font-size: 14px; }
    a { color: #2563eb; text-decoration: none; }
    a:hover { text-decoration: underline; }
    hr { margin: 32px 0; }
  </style>
</head>
<body>
  <header>
    <img src="../public/plotcouncil-logo.jpeg" alt="PlotCouncil Logo" class="logo" />
    <h1>PlotCouncil</h1>
    <p><strong>Scientific Plot Reproduction with Multi-Agent Review</strong><br/>ç§‘ç ”ç»˜å›¾å¤åˆ»åŠ©æ‰‹ Â· å¤šæ™ºèƒ½ä½“å¤æ ¸ Â· Matplotlib æ¸²æŸ“</p>
    <div class="badges">
      <img src="https://img.shields.io/badge/TypeScript-5.0-blue?logo=typescript&logoColor=white" alt="TypeScript" />
      <img src="https://img.shields.io/badge/React-19-61DAFB?logo=react&logoColor=black" alt="React" />
      <img src="https://img.shields.io/badge/Matplotlib-3.9-11557c?logo=python&logoColor=white" alt="Matplotlib" />
      <img src="https://img.shields.io/badge/Gemini-Pro-8E75B2?logo=google&logoColor=white" alt="Gemini" />
    </div>
    <div class="lang-toggle" style="margin-top:16px;">
      <button id="btn-zh" class="active" onclick="showLang('zh')">ç®€ä½“ä¸­æ–‡</button>
      <button id="btn-en" onclick="showLang('en')">English</button>
    </div>
  </header>

  <main>
    <section class="grid">
      <h2>Example Results</h2>
      <h3>Original Figure</h3>
      <img src="../test/figure_example.svg" alt="Original Scientific Figure" style="max-width:100%;height:auto;border:none;" />
      <h3>Reproduced Plots (2Ã—3 Grid)</h3>
      <table>
        <tr>
          <td><img src="../test/a.png" alt="Plot A" /><br/><a href="../test/a.py">ğŸ“ Code A</a></td>
          <td><img src="../test/b.png" alt="Plot B" /><br/><a href="../test/b.py">ğŸ“ Code B</a></td>
          <td><img src="../test/c.png" alt="Plot C" /><br/><a href="../test/c.py">ğŸ“ Code C</a></td>
        </tr>
        <tr>
          <td><img src="../test/d.png" alt="Plot D" /><br/><a href="../test/d.py">ğŸ“ Code D</a></td>
          <td><img src="../test/e.png" alt="Plot E" /><br/><a href="../test/e.py">ğŸ“ Code E</a></td>
          <td><img src="../test/f.png" alt="Plot F" /><br/><a href="../test/f.py">ğŸ“ Code F</a></td>
        </tr>
      </table>
      <p class="muted">Example figures from <a href="https://github.com/macromeer/scifig_plot_examples_R">macromeer/scifig_plot_examples_R</a></p>
    </section>

    <hr />

    <!-- Chinese -->
    <section id="content-zh">
      <h2>ç®€ä»‹</h2>
      <p>PlotCouncil é€šè¿‡å­¦ç”Ÿ-è€å¸ˆ-ä¸»å¸­å¤šè§’è‰²å¤æ ¸é“¾è·¯ï¼Œè‡ªåŠ¨è§£æç§‘å­¦å›¾è¡¨å¹¶ç”Ÿæˆé«˜ä¿çœŸ Matplotlib é‡ç»˜ä»£ç ã€‚</p>
      <h3>åŠŸèƒ½ç‰¹æ€§</h3>
      <ul>
        <li>å¤šæ™ºèƒ½ä½“å¤æ ¸ï¼šCoder â†’ æ ·å¼/å¸ƒå±€/æ•°æ®è¯„å®¡ â†’ ä¸»å¸­</li>
        <li>å®‰å…¨æ¸²æŸ“ï¼šFastAPI åç«¯æ‰§è¡Œ Matplotlib</li>
        <li>æœ¬åœ°å­˜å‚¨ï¼šé¡¹ç›®ä¸ç»˜å›¾å†å²å­˜ IndexedDB</li>
        <li>äº¤äº’å¼å·¥ä½œæµï¼šæ‹–æ‹½ä¸Šä¼ ã€å åŠ å¯¹æ¯”ã€è‡ªåŠ¨/æ‰‹åŠ¨ä¿®æ­£å¾ªç¯</li>
      </ul>
      <h3>ä½¿ç”¨æŒ‡å—</h3>
      <ol>
        <li>ä¸Šä¼ ç›®æ ‡å›¾ç‰‡ï¼ˆPNG/JPG/WEBPï¼‰ã€‚</li>
        <li>é€‰æ‹©æ¨¡å¼ï¼šSimple / Complex / Manualã€‚</li>
        <li>ç‚¹å‡» Run æŸ¥çœ‹æ¸²æŸ“ä¸ä»£ç /è¯„å®¡ã€‚</li>
        <li>å¦‚ä¸åŒ¹é…ï¼Œä½¿ç”¨ Refine/Manual Fix æˆ–å¢åŠ å¾ªç¯ã€‚</li>
        <li>åœ¨ History æŸ¥çœ‹å¿«ç…§ä¸æ—¥å¿—ã€‚</li>
      </ol>
      <h3>å®‰è£…æŒ‡å—</h3>
      <p><strong>æ–¹å¼ä¸€ï¼šDockerï¼ˆæ¨èï¼‰</strong></p>
      <pre><code>git clone https://github.com/pc9527zxx/PlotCouncil.git
cd PlotCouncil
docker-compose up -d
# è®¿é—® http://localhost:8032
</code></pre>
      <p><strong>æ–¹å¼äºŒï¼šæ‰‹åŠ¨</strong></p>
      <pre><code>npm install
npm run build
npm run dev
cd server
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
uvicorn main:app --reload --port 8032
</code></pre>
      <p><strong>é…ç½®</strong></p>
      <pre><code>VITE_RENDER_API_URL=http://localhost:8032/render
# åœ¨åº”ç”¨ Settings ç²˜è´´ Gemini API Key</code></pre>
      <h3>æ³¨æ„</h3>
      <ul>
        <li>åç«¯æ‰§è¡Œä»»æ„ Matplotlib ä»£ç ï¼Œå…¬ç½‘éƒ¨ç½²è¯·åŠ æ²™ç®±/é™æ—¶ã€‚</li>
        <li>å®šæœŸæ¸…ç† server/artifacts/ é‡Šæ”¾ç£ç›˜ã€‚</li>
      </ul>
    </section>

    <!-- English -->
    <section id="content-en" style="display:none;">
      <h2>Overview</h2>
      <p>PlotCouncil parses scientific figures with a Student â†’ Teachers â†’ Chair loop and emits high-fidelity Matplotlib code.</p>
      <h3>Features</h3>
      <ul>
        <li>Multi-agent critique: Coder â†’ Style/Layout/Data â†’ Chair</li>
        <li>Safe rendering: FastAPI backend for Matplotlib</li>
        <li>Local persistence: Projects & history in IndexedDB</li>
        <li>Interactive workflow: drag-drop, overlay compare, auto/manual refine</li>
      </ul>
      <h3>Usage</h3>
      <ol>
        <li>Upload target image (PNG/JPG/WEBP).</li>
        <li>Pick mode: Simple / Complex / Manual.</li>
        <li>Click Run to view render + code/reviews.</li>
        <li>If mismatch, use Refine/Manual Fix or raise loop count.</li>
        <li>Use History drawer for snapshots and logs.</li>
      </ol>
      <h3>Install</h3>
      <p><strong>Option 1: Docker (recommended)</strong></p>
      <pre><code>git clone https://github.com/pc9527zxx/PlotCouncil.git
cd PlotCouncil
docker-compose up -d
# Access http://localhost:8032
</code></pre>
      <p><strong>Option 2: Manual</strong></p>
      <pre><code>npm install
npm run build
npm run dev
cd server
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
uvicorn main:app --reload --port 8032
</code></pre>
      <p><strong>Config</strong></p>
      <pre><code>VITE_RENDER_API_URL=http://localhost:8032/render
# Paste Gemini API Key in app Settings</code></pre>
      <h3>Notes</h3>
      <ul>
        <li>Renderer executes arbitrary Matplotlib; sandbox/timeout for public exposure.</li>
        <li>Clean server/artifacts/ periodically to reclaim disk.</li>
      </ul>
    </section>
  </main>

  <script>
    function showLang(lang) {
      const en = document.getElementById('content-en');
      const zh = document.getElementById('content-zh');
      const btnEn = document.getElementById('btn-en');
      const btnZh = document.getElementById('btn-zh');
      if (lang === 'en') {
        en.style.display = 'block';
        zh.style.display = 'none';
        btnEn.classList.add('active');
        btnZh.classList.remove('active');
      } else {
        en.style.display = 'none';
        zh.style.display = 'block';
        btnZh.classList.add('active');
        btnEn.classList.remove('active');
      }
    }
  </script>
</body>
</html>
